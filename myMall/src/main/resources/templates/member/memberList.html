<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Member</title>
<link rel="stylesheet" th:href="@{/css/style.css}"></link>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" 	integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" 	crossorigin="anonymous"></script>
<script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.noStyle.js"></script>
<link rel="stylesheet" href="https://unpkg.com/ag-grid-community/dist/styles/ag-grid.css">
<link rel="stylesheet" href="https://unpkg.com/ag-grid-community/dist/styles/ag-theme-alpine.css">
</head>
<body>
	<a href="/member/openMemberJoin.do" class="btn">회원 추가</a>
	<div id="myGrid" style="height: 1000px; width:1500px;" class="ag-theme-alpine"></div>
</body>
<script th:inline="javascript">

const columnDefs = [
	  { headerName: "회원번호",field:"usridx" },
	  { headerName: "아이디",field:"id" },
	  { headerName: "회원명",field:"name" },
	  { headerName: "이메일",field:"email" },
	  { headerName: "연락처",field:"tel" },
	  { headerName: "성별",field:"gender" },
	  { headerName: "가입일자",field:"createdtime" },
	  { headerName: "회원유형",field:"userauth" }
	];

	var list =/*[[${list}]]*/;
	var arr = [];
	if(list && list.length > 0){
// 		console.log(list);
		list.forEach(function(d,idx){
			console.log(d);
			arr[idx] = {
				"usridx": d.usridx,
				"id": d.id,
				"name": d.name,
				"email": d.email,
				"tel": d.tel,
				"gender": d.gender,
				"createdtime": d.createdtime,
				"userauth": d.userauth,
			};
		});
		console.log(arr);
	}

	
	
	// specify the data
	const rowData = arr;

	// let the grid know which columns and what data to use
	const gridOptions = {
	  columnDefs: columnDefs,
	  rowData: rowData
	};

	// setup the grid after the page has finished loading
	document.addEventListener("DOMContentLoaded", () => {
	    const gridDiv = document.querySelector("#myGrid");
	    new agGrid.Grid(gridDiv, gridOptions);
	});
</script>
</html>